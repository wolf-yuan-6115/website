---
import "@fontsource-variable/jetbrains-mono";
import "../styles/ScrollBarFix.css";

import Nav from "../components/Nav.astro";
import Footer from "../components/Footer.astro";
import Noscript from "../components/Noscript.astro";
import { ViewTransitions } from "astro:transitions";
import { SEO } from "astro-seo";
import strings from "../i18n/strings";

const { title, desc, image } = Astro.props;

const localeCode = Astro.currentLocale === "en" ? "en_US" : "zh_Hant";
const t = strings.seo[Astro.currentLocale];
---

<html
  lang={Astro.currentLocale === "en" ? "en" : "zh-Hant"}
  transition:animate="fade"
>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <link rel="icon" href="/favicon.ico" type="image/x-icon" />
    <title>{`${title} - Wolf Yuan`}</title>
    <SEO
      description={desc}
      charset="UTF-8"
      openGraph={{
        basic: {
          title: desc,
          type: "website",
          image: image ?? "https://wolf-yuan.dev/logo_512x512.webp",
        },
        optional: {
          locale: localeCode,
          localeAlternate: ["en_US", "zh_Hant"],
        },
        image: {
          alt: t.imageAlt,
        },
      }}
      twitter={{
        title: desc,
        card: "summary",
        site: "@wolfyuan1135",
        image: image ?? "https://wolf-yuan.dev/logo_512x512.webp",
        imageAlt: t.imageAlt,
      }}
    />
    <link rel="me" href="https://mastodon.wolf-yuan.dev/@wolf" />

    <ViewTransitions />
  </head>
  <body class="bg-gray-900 text-gray-50 flex flex-col h-full">
    <Nav />

    <div class="max-w-6xl mx-auto mb-auto">
      <div class="mx-7">
        <slot />
      </div>
    </div>

    <Footer />
    <Noscript />
  </body>
</html>
