---
slug: "hyprland"
title: "hyprland 是我用過最好用的視窗管理器"
description: "我將在這篇文章解釋為什麼我會喜歡上它，並且到底要怎麼做才能讓 Hyprland 搖身一變成為一個好看的桌面"
image: "/src/assets/blog/hyprland/cover.webp"
ogImage: "/opengraph/images/blog/hyprland.webp"
tags: ["linux", "hyprland", "arch", "archlinux"]
sorting: 1
---

> Hello there, are you a English reader? Well congrats, this post has an English version, you can click the translation icon at the bottom of the page or go [here](/blog/hyprland/).

某天，當時我正無聊得滑著手機，突然發現了一些有關於我以前看到使用 Wayland 的視窗管理器 —— hyprland。這讓我想起了以前在 Reddit 上面看到的一些有關於它的新聞，這讓我突然想要試試看這個 DIY 的小玩具。

在看過一些文章及影片後，我決定嘗試看看這個酷東西。以下我將分享我如何在我的電腦上安裝及設定 hyprland 。

噢對了，它現在看起來像這樣：

![我美麗的 hyprland 桌面](../../assets/blog/hyprland/desktop.png)

## 安裝

安裝 hyprland 其實非常簡單且快速。使用 hyprland 的首要條件應該是在你的電腦上安裝 Arch Linux，然後執行以下指令：

```bash
sudo pacman -S hyprland
```

同時你需要 hyprland 預設的終端機模擬器 kitty 你可以用這個指令安裝。

```bash
sudo pacman -S kitty
```

很簡單對吧。雖然使用 Arch 分支的其他 Linux 發行版如 Manjory 或 EndeavourOS 能然能執行 hyprland ，但我個人偏好使用 Arch Linux 。


> 這份教學**假設您使用 Arch Linux**。我不推薦使用 Debian 或是 Fedora ，他們的更新速度不像 Arch Linux 那麼頻繁和及時。並且官方的儲存庫裡面可能沒有 hyprland 必須或額外可安裝的元件，您可能得**自行編譯**它們。

這時 hyprland 已經安裝成功了，但如果您不想要每次開機都得自己在 tty 中輸入 `hyprland` 來進入桌面的話 ，我會推薦你安裝 ssdm 登入管理員，它兼具簡單及高度客製化的優點，您可以執行以下指令安裝 ssdm :

```bash
sudo pacman -S sddm
```

接著只要重新啟動電腦，您就會發現 hyprland 與 SDDM 都已經成功的安裝了。

## 客製化

當然，目前的 hyprland 與美麗二字相差甚遠，這是因為 hyprland 預設的自動生成設置檔僅有最基礎，最簡單的設置，進階的功能必須由您敲敲打打來更改。以免你不知道，這幾個是未經更改的 hyprland 不具備的功能：

- 亮度調節
- 音量調節
- 螢幕截圖或錄影
- 螢幕鎖定

沒錯，hyprland 就是這麼的*高度客製化*，多數的設置都得由您親手完成，聽起來有沒有覺得熱血沸騰呢？

我們先從移除上方橫欄中討人厭的自動生成警告開始，請使用你的文字編輯器打開 `~/.config/hypr/hyprland.conf`，將以 `autogenerated` 開頭的行數註解掉，像是這樣：

```ini
# #######################################################################################
# AUTOGENERATED HYPR CONFIG.
# PLEASE USE THE CONFIG PROVIDED IN THE GIT REPO /examples/hypr.conf AND EDIT IT,
# OR EDIT THIS ONE ACCORDING TO THE WIKI INSTRUCTIONS.
# #######################################################################################

autogenerated = 1 # remove this line to remove the warning // [!code focus] // [!code --]
# autogenerated = 1 # remove this line to remove the warning // [!code focus]
```

更改完畢後別忘了儲存檔案，你會發現上方的警告訊息自動消失了。這是因為 hyprland 在偵測到設定檔案變更後會自動重新載入設置檔。當然你也可以使用 `hyprctl reload` 來重新載入 hyprland 的設定。

hyprland 有一套自己的設定檔格式，您可以在它的[官方文檔](https://wiki.hyprland.org/Configuring/Variables/)裡面找到所有可供設定的選項。


## 為 hyprland 加上酷酷的模組

沒有經過「調味」的 hyprland 並未具有許多其他視窗或是桌面管理器擁有的特色，但透過強大的社群製作的擴充，您可以為 hyprland 加上更多的功能。

以下我將會介紹幾種我自己有在使用的小零件，他們可以讓 hyprland 更加方便實用 (同時也更美麗)：

### waybar

[waybar](https://github.com/Alexays/Waybar) 是給使用 Wayland 的桌面/視窗管理器使用的狀態欄。它支援許多自訂選項，可以透過 waybar 的設定檔及 GTK CSS 把它打造成您想要的樣子。

![我的 waybar](../../assets/blog/hyprland/waybar.png)

以下指令可以在你的電腦上安裝 waybar :

```bash
sudo pacman -S waybar
```

安裝後您可以手動在終端機執行 `waybar` 來開啟狀態列，也可以直接修改位於 `~/.config/hypr/hyprland.conf` 的 hyprland 設置檔，在任意位置加入這行設定：

```diff
# 其他設定 ...
+ exec-once = waybar
```

這會讓 hyprland 在啟動時自動幫您執行 `waybar`。

waybar 可以使用位在 `~/.config/waybar/config` 以及 `~/.config/waybar/style.css` 的設定檔更改它的樣子，你可以在 waybar 的[官方文檔](https://github.com/Alexays/Waybar/wiki)找到更多的資訊。

### wlogout

[wlogout](https://github.com/ArtsyMacaw/wlogout) 是一個使用 Wayland 的登入登出選單，可以用它來將電腦登出、重啟、關機或是執行其他指令。

![wlogout 螢幕截圖](../../assets/blog/hyprland/wlogout.png)

你可以使用下列指令安裝 wlogout :

```bash
paru -S wlogout
```

> `wlogout` 被儲存於 [AUR](https://aur.archlinux.org/packages/wlogout) 中，您可以把 `paru` 換成 `yay` 或是任何您喜歡的 AUR 助手。

wlogout 擁有一些客製化的選項，你可以編輯位於 `~/.config/wlogout/layout` 及 `~./config/wlogout/style.css` 的設置檔來自訂它。你可以用 `man 5 wlogout` 指令來看它支援的設定選項。

不像 `waybar` 必須於 hyprland 啟動時就開始執行，`wlogout` 是一次性的指令，你可以使用 hyprland 的設定檔將它綁定到任何一個快速鍵來開啟，像是這樣：

```diff
+ bind = SUPER, P, exec, wlogout
```

這串設定會使你按下 `SUPER (通常是 Windows 鍵) + P` 的組合鍵時執行 `wlogout` 指令。

### wofi

> 嘿，在我撰寫這篇文章時，wofi 似乎沒有被原開發者積極的維護，但我執行起來沒有任何的問題。如果您會介意，可以試試看 [fuzzel](https://codeberg.org/dnkl/fuzzel) 或 [rofi](https://github.com/davatorium/rofi) 等類似的程式進行替代

[wofi](https://sr.ht/~scoopta/wofi/) 是一個使用 wayland 的應用程式起動器及選單，它同樣支援 GTK CSS 用以客製化。

![wofi 螢幕截圖](../../assets/blog/hyprland/wofi.png)

使用以下指令安裝 wofi :

```bash
sudo pacman -S wofi
```

你可以在終端機輸入 `wofi` 以啟動。當然您也可以在 `~/.config/hypr/hyprland.conf` 中給 `wofi --show drun` 一個方便的快捷鍵：

```diff
+ bind = SUPER, D, exec, wofi --show drun
```

> 你可以把 `--allow-images` 加入命令列選項中來顯示應用程式圖示。

### SwayOSD

[SwayOSD](https://github.com/ErikReider/SwayOSD) 是一個酷酷的小工具，可以在你調整亮度及音量時顯示目前的亮度或是音量大小，也可以顯示大小寫鎖定或是數字鍵鎖定的狀態。

使用以下指令安裝 SwayOSD:

```bash
paru -S swayosd-git
```

讓 `swayosd-server` 在你開啟 hyprland 時自動啟動：

```diff
+ exec-once = swayosd-server
```

並並將音量按鈕和亮度按鈕綁定到 `SwayOSD`，打開 `~/.config/hypr/hyprland.conf` 並加入這幾串文字：

```diff
+ bindl = ,XF86AudioMute, exec, swayosd-client --output-volume mute-toggle
+ bindle =, XF86AudioRaiseVolume, exec, swayosd-client --output-volume raise
+ bindle =, XF86AudioLowerVolume, exec, swayosd-client --output-volume lower
+ bindle =, XF86MonBrightnessUp, exec, swayosd-client --brightness +3
+ bindle =, XF86MonBrightnessDown, exec, swayosd-client --brightness -3
```

這會讓 SwayOSD 在你按下音量或亮度按鈕時顯示酷酷的 OSD，就像 Gnome 一樣

> `swayosd-git` 被儲存於 [AUR](https://aur.archlinux.org/packages/swayosd-git) 中，因此您可以將 `paru` 換成 `yay` 或是任何您熟悉的 AUR 助手。
>
> 我撰寫這篇文章時，SwayOSD 並沒有有版本標記的 AUR 套件，只有 `-git` 版本。

## 為什麼在選擇 Hyprland 小工具時 Wayland 很重要？

Hyprland 是基於 Wayland 協議的，這是一個比 X11 更安全和現代的顯示協議。因此，舊有的 X11 應用程式無法在 Wayland 上原生運行。

雖然可以通過 XWayland 在 Wayland 上運行 X11 應用程式，但我極度不推薦這樣做，因為大多數情況下程式會變得較慢，而且會出現許多視覺上的問題 (像是 HiDPI 縮放、奇怪的視窗大小)。

當你為 Hyprland 選擇小工具時，請確保它們是基於 Wayland 協議的（比如為 wlroots 開發的工具），這樣它們就能在 Hyprland 上原生運行，不會出現任何問題。

## 我的 dot files

我有一個 GitLab 儲存庫包含了我對上述套件的設定，以及我的 hyprland 設定檔。你可以點擊[這裡](https://gitlab.com/wolf-yuan/dotfiles)來查看。

## 結語

這就是我對 hyprland 的看法，我希望這篇文章能幫助到您了解 hyprland 並且給了你一些怎麼使用 hyprland 的點子。如果您有任何問題或是建議，歡迎寄一封電子郵件到我的信箱，你可以在我網站的首頁找到它。
